const { getBlock } = require("../../common/block");
const { getApi } = require("../api");
const { rlphash } = require("ethereumjs-util");
const { bufferToU8a, u8aToHex } = require("@polkadot/util");

(async () => {
  // const api = await getApi();
  const height = 6721822;
  // const block = await getBlock(api, height);

  // const hex = block.block.extrinsics[2].args[0].asEip1559.toHex();
  const hex = "0xb80886ac0000000000000000000000002d5d7d31f671f86c782533cc367f14109a0827120000000000000000000000000000000000000000000000000000000000000060000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000a43650472136badc35f4fb8debc1adf5af4e3b98e5186f73506a0cd9de5d1c4532495314f2000000000000000000000000000000000000000000000000000000000000000000000000000000000000000082b58a073faa247c7f68dbd9b4101b26b2d177bf0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002ac88696279ba582b00000000000000000000000000000000000000000000000000000000"
  const rlp  = rlphash(hex);
  const u8a = bufferToU8a(rlp);
  const hhex = u8aToHex(u8a);

  // console.log(block);
  process.exit(0);
})();
